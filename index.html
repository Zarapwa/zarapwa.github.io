<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exchange MiniApp V99</title>

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />

    <!-- iOS Support -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="apple-touch-icon" href="icons/icon-512-maskable.png" />
</head>

<body>
    <header>
        <h1>Exchange MiniApp</h1>
        <button id="reloadBtn">⟳</button>
    </header>

    <main>

        <!-- Dashboard Cards -->
        <section class="card-row">
            <div class="card small" id="todayDeals">Today Deals</div>
            <div class="card small" id="warningPayable">Payable Alerts</div>
            <div class="card small" id="balanceCard">Balance</div>
        </section>

        <!-- Transactions -->
        <section class="card" id="transactionsCard">
            <h2>All Deals</h2>
            <div id="dealList"></div>
        </section>

        <!-- New Deal Button -->
        <button id="openNewDeal" class="floating-btn">＋ New Deal</button>

        <!-- New Deal Form -->
        <section id="newDealCard" class="card new-deal hidden">
            <h2>New Deal</h2>

            <form id="newDealForm" onsubmit="return false;">
                <div class="form-grid">

                    <label>Deal ID</label>
                    <input type="text" id="deal_id" />

                    <label>Date</label>
                    <input type="date" id="tx_date" />

                    <label>Customer</label>
                    <input type="text" id="customer" />

                    <label>Exchanger</label>
                    <input type="text" id="exchanger" />

                    <label>Account ID</label>
                    <input type="text" id="account_id" />

                    <label>Tx Type</label>
                    <select id="tx_type">
                        <option value="inflow">Inflow</option>
                        <option value="outflow">Outflow</option>
                        <option value="conversion">Conversion</option>
                    </select>

                    <label>Base Currency</label>
                    <select id="base_currency">
                        <option>RMB</option>
                        <option>USD</option>
                        <option>IRR</option>
                        <option>AED</option>
                    </select>

                    <label>Amount</label>
                    <input type="number" id="amount" />

                    <label>Target Currency</label>
                    <select id="target_currency">
                        <option>RMB</option>
                        <option>USD</option>
                        <option>IRR</option>
                        <option>AED</option>
                    </select>

                    <label>Payable</label>
                    <input type="number" id="payable" />

                    <label>Trader Rate</label>
                    <input type="number" id="trader_rate" />

                    <label>Exchanger Rate</label>
                    <input type="number" id="exchanger_rate" />

                    <label>Notes</label>
                    <input type="text" id="notes" />
                </div>

                <button id="saveDeal" class="btn-save">Save Deal</button>
                <button id="cancelNewDeal" class="btn-cancel">Cancel</button>

            </form>
        </section>
    </main>

    <script src="app.js"></script>
</body>
</html>
